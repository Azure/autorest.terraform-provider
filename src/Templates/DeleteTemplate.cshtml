@using AutoRest.Core
@using AutoRest.Terraform
@inherits Template<DeleteGenerator>

func @(Model.FunctionName)(d *schema.ResourceData, meta interface{}) error {
	client := meta.(*ArmClient).@Model.GoSDKClientName
	ctx := meta.(*ArmClient).StopContext

	id, err := parseAzureResourceID(d.Id())
	if err != nil {
		return err
	}

	name := id.Path["@Model.AzureResourceIdPath"]
	resGroup := id.ResourceGroup

	future, err := client.Delete(ctx, resGroup, name)
	if err != nil {
		return fmt.Errorf("Error issuing AzureRM delete request for @Model.ResourceName %q: %+v", name, err)
	}

	err = future.WaitForCompletion(ctx, client.Client)
	if err != nil {
		return fmt.Errorf("Error waiting for the deleting @Model.ResourceName %q (Resource Group %q): %+v", name, resGroup, err)
	}

	return nil
}
@EmptyLine